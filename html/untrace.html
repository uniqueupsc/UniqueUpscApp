<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UPSC Prelims Cutoff Trends (2014-2024)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .chart-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 30px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            padding: 12px 15px;
            text-align: center;
            border: 1px solid #e0e0e0;
        }
        th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f2f9ff;
        }
        tr:hover {
            background-color: #e3f2fd;
        }
        .category-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .category-btn {
            padding: 8px 16px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .category-btn:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        .category-btn.active {
            background-color: #2c3e50;
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
        }
        .tab {
            padding: 10px 20px;
            background-color: #e0e0e0;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        .tab.active {
            background-color: #3498db;
            color: white;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #7f8c8d;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>UPSC Prelims Cutoff Trends (2014-2024)</h1>
        
        <div class="tabs">
            <div class="tab active" onclick="showTab('charts')">Interactive Charts</div>
            <div class="tab" onclick="showTab('data')">Data Table</div>
        </div>
        
        <div id="charts" class="tab-content active">
            <div class="category-selector">
                <button class="category-btn active" onclick="updateChart('all')">All Categories</button>
                <button class="category-btn" onclick="updateChart('general')">GENERAL</button>
                <button class="category-btn" onclick="updateChart('ews')">EWS</button>
                <button class="category-btn" onclick="updateChart('obc')">OBC</button>
                <button class="category-btn" onclick="updateChart('sc')">SC</button>
                <button class="category-btn" onclick="updateChart('st')">ST</button>
                <button class="category-btn" onclick="updateChart('ph')">PH Categories</button>
            </div>
            
            <div class="chart-container">
                <canvas id="cutoffChart"></canvas>
            </div>
            
            <div class="chart-container">
                <div id="cutoffPlotlyChart" style="width:100%; height:500px;"></div>
            </div>
        </div>
        
        <div id="data" class="tab-content">
            <div class="chart-container">
                <table id="cutoffTable">
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>2024</th>
                            <th>2023</th>
                            <th>2022</th>
                            <th>2021</th>
                            <th>2020</th>
                            <th>2019</th>
                            <th>2018</th>
                            <th>2017</th>
                            <th>2016</th>
                            <th>2015</th>
                            <th>2014</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>GENERAL</td>
                            <td>75.41</td>
                            <td>88.22</td>
                            <td>87.54</td>
                            <td>92.51</td>
                            <td>98</td>
                            <td>105.34</td>
                            <td>116</td>
                            <td>107.34</td>
                            <td>205</td>
                            <td>241</td>
                        </tr>
                        <tr>
                            <td>EWS</td>
                            <td>68.02</td>
                            <td>82.83</td>
                            <td>80.14</td>
                            <td>77.55</td>
                            <td>90</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>OBC</td>
                            <td>74.75</td>
                            <td>87.54</td>
                            <td>84.85</td>
                            <td>89.12</td>
                            <td>95.34</td>
                            <td>102.66</td>
                            <td>110.66</td>
                            <td>106</td>
                            <td>204</td>
                            <td>222</td>
                        </tr>
                        <tr>
                            <td>SC</td>
                            <td>59.25</td>
                            <td>74.08</td>
                            <td>75.41</td>
                            <td>74.84</td>
                            <td>82</td>
                            <td>88.66</td>
                            <td>99.34</td>
                            <td>94</td>
                            <td>182</td>
                            <td>207</td>
                        </tr>
                        <tr>
                            <td>ST</td>
                            <td>47.82</td>
                            <td>69.35</td>
                            <td>70.71</td>
                            <td>68.71</td>
                            <td>77.34</td>
                            <td>88.66</td>
                            <td>96</td>
                            <td>91.34</td>
                            <td>174</td>
                            <td>201</td>
                        </tr>
                        <tr>
                            <td>PH-1</td>
                            <td>40.4</td>
                            <td>49.84</td>
                            <td>68.02</td>
                            <td>70.06</td>
                            <td>53.34</td>
                            <td>85.34</td>
                            <td>75.36</td>
                            <td>90.66</td>
                            <td>167</td>
                            <td>199</td>
                        </tr>
                        <tr>
                            <td>PH-2</td>
                            <td>47.13</td>
                            <td>58.59</td>
                            <td>67.33</td>
                            <td>63.94</td>
                            <td>44.66</td>
                            <td>61.34</td>
                            <td>72.66</td>
                            <td>76.66</td>
                            <td>113</td>
                            <td>184</td>
                        </tr>
                        <tr>
                            <td>PH-3</td>
                            <td>40.4</td>
                            <td>40.4</td>
                            <td>43.09</td>
                            <td>40.82</td>
                            <td>40.66</td>
                            <td>40</td>
                            <td>40</td>
                            <td>40</td>
                            <td>115</td>
                            <td>163</td>
                        </tr>
                        <tr>
                            <td>PH-5</td>
                            <td>33.68</td>
                            <td>41.76</td>
                            <td>45.8</td>
                            <td>42.86</td>
                            <td>61.34</td>
                            <td>45.34</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="footer">
            <p>Data Source: UPSC Official Cutoff Marks | Visualization created with Chart.js and Plotly</p>
            <p>Note: PH-1, PH-2, PH-3, PH-5 refer to different disability categories</p>
        </div>
    </div>

    <script>
        // Data preparation
        const years = ['2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024'].reverse();
        
        const data = {
            general: [241, 205, 107.34, 116, 105.34, 98, 92.51, 87.54, 88.22, 75.41],
            ews: [null, null, null, null, null, null, 90, 77.55, 80.14, 82.83, 68.02],
            obc: [222, 204, 106, 110.66, 102.66, 95.34, 89.12, 84.85, 87.54, 74.75],
            sc: [207, 182, 94, 99.34, 88.66, 82, 74.84, 75.41, 74.08, 59.25],
            st: [201, 174, 91.34, 96, 88.66, 77.34, 68.71, 70.71, 69.35, 47.82],
            ph1: [199, 167, 90.66, 75.36, 85.34, 53.34, 70.06, 68.02, 49.84, 40.4],
            ph2: [184, 113, 76.66, 72.66, 61.34, 44.66, 63.94, 67.33, 58.59, 47.13],
            ph3: [163, 115, 40, 40, 40, 40.66, 40.82, 43.09, 40.4, 40.4],
            ph5: [null, null, null, null, 45.34, 61.34, 42.86, 45.8, 41.76, 33.68]
        };
        
        // Initialize Chart.js chart
        const ctx = document.getElementById('cutoffChart').getContext('2d');
        let cutoffChart = new Chart(ctx, {
            type: 'line',
            data: getChartData('all'),
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'UPSC Prelims Cutoff Marks Trend (2014-2024)',
                        font: {
                            size: 18
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    },
                    legend: {
                        position: 'bottom',
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        title: {
                            display: true,
                            text: 'Cutoff Marks'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Year'
                        }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'nearest'
                }
            }
        });
        
        // Initialize Plotly chart
        let plotlyData = preparePlotlyData('all');
        Plotly.newPlot('cutoffPlotlyChart', plotlyData, {
            title: 'UPSC Prelims Cutoff Marks (Interactive View)',
            xaxis: {
                title: 'Year'
            },
            yaxis: {
                title: 'Cutoff Marks'
            },
            hovermode: 'closest',
            showlegend: true,
            legend: {
                orientation: 'h',
                y: -0.2
            }
        });
        
        // Helper functions
        function getChartData(category) {
            let datasets = [];
            const colors = {
                general: '#3498db',
                ews: '#e74c3c',
                obc: '#2ecc71',
                sc: '#f39c12',
                st: '#9b59b6',
                ph1: '#1abc9c',
                ph2: '#d35400',
                ph3: '#34495e',
                ph5: '#7f8c8d'
            };
            
            if (category === 'all') {
                for (const [key, value] of Object.entries(data)) {
                    if (key !== 'ph1' && key !== 'ph2' && key !== 'ph3' && key !== 'ph5') {
                        datasets.push({
                            label: key.toUpperCase(),
                            data: value,
                            borderColor: colors[key],
                            backgroundColor: 'rgba(255, 255, 255, 0)',
                            borderWidth: 3,
                            tension: 0.1,
                            fill: false
                        });
                    }
                }
            } else if (category === 'ph') {
                datasets.push({
                    label: 'PH-1',
                    data: data.ph1,
                    borderColor: colors.ph1,
                    backgroundColor: 'rgba(255, 255, 255, 0)',
                    borderWidth: 3,
                    tension: 0.1,
                    fill: false
                });
                datasets.push({
                    label: 'PH-2',
                    data: data.ph2,
                    borderColor: colors.ph2,
                    backgroundColor: 'rgba(255, 255, 255, 0)',
                    borderWidth: 3,
                    tension: 0.1,
                    fill: false
                });
                datasets.push({
                    label: 'PH-3',
                    data: data.ph3,
                    borderColor: colors.ph3,
                    backgroundColor: 'rgba(255, 255, 255, 0)',
                    borderWidth: 3,
                    tension: 0.1,
                    fill: false
                });
                datasets.push({
                    label: 'PH-5',
                    data: data.ph5,
                    borderColor: colors.ph5,
                    backgroundColor: 'rgba(255, 255, 255, 0)',
                    borderWidth: 3,
                    tension: 0.1,
                    fill: false
                });
            } else {
                datasets.push({
                    label: category.toUpperCase(),
                    data: data[category],
                    borderColor: colors[category],
                    backgroundColor: 'rgba(255, 255, 255, 0)',
                    borderWidth: 3,
                    tension: 0.1,
                    fill: false
                });
            }
            
            return {
                labels: years,
                datasets: datasets
            };
        }
        
        function preparePlotlyData(category) {
            let plotlyData = [];
            const colors = {
                general: '#3498db',
                ews: '#e74c3c',
                obc: '#2ecc71',
                sc: '#f39c12',
                st: '#9b59b6',
                ph1: '#1abc9c',
                ph2: '#d35400',
                ph3: '#34495e',
                ph5: '#7f8c8d'
            };
            
            if (category === 'all') {
                for (const [key, value] of Object.entries(data)) {
                    if (key !== 'ph1' && key !== 'ph2' && key !== 'ph3' && key !== 'ph5') {
                        plotlyData.push({
                            x: years,
                            y: value,
                            name: key.toUpperCase(),
                            mode: 'lines+markers',
                            line: {
                                color: colors[key],
                                width: 3
                            },
                            marker: {
                                size: 8
                            }
                        });
                    }
                }
            } else if (category === 'ph') {
                plotlyData.push({
                    x: years,
                    y: data.ph1,
                    name: 'PH-1',
                    mode: 'lines+markers',
                    line: {
                        color: colors.ph1,
                        width: 3
                    },
                    marker: {
                        size: 8
                    }
                });
                plotlyData.push({
                    x: years,
                    y: data.ph2,
                    name: 'PH-2',
                    mode: 'lines+markers',
                    line: {
                        color: colors.ph2,
                        width: 3
                    },
                    marker: {
                        size: 8
                    }
                });
                plotlyData.push({
                    x: years,
                    y: data.ph3,
                    name: 'PH-3',
                    mode: 'lines+markers',
                    line: {
                        color: colors.ph3,
                        width: 3
                    },
                    marker: {
                        size: 8
                    }
                });
                plotlyData.push({
                    x: years,
                    y: data.ph5,
                    name: 'PH-5',
                    mode: 'lines+markers',
                    line: {
                        color: colors.ph5,
                        width: 3
                    },
                    marker: {
                        size: 8
                    }
                });
            } else {
                plotlyData.push({
                    x: years,
                    y: data[category],
                    name: category.toUpperCase(),
                    mode: 'lines+markers',
                    line: {
                        color: colors[category],
                        width: 3
                    },
                    marker: {
                        size: 8
                    }
                });
            }
            
            return plotlyData;
        }
        
        // Update charts when category button is clicked
        function updateChart(category) {
            // Update Chart.js
            cutoffChart.data = getChartData(category);
            cutoffChart.update();
            
            // Update Plotly
            Plotly.newPlot('cutoffPlotlyChart', preparePlotlyData(category), {
                title: 'UPSC Prelims Cutoff Marks (Interactive View)',
                xaxis: {
                    title: 'Year'
                },
                yaxis: {
                    title: 'Cutoff Marks'
                },
                hovermode: 'closest',
                showlegend: true,
                legend: {
                    orientation: 'h',
                    y: -0.2
                }
            });
            
            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        // Tab functionality
        function showTab(tabId) {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            document.querySelector(`.tab[onclick="showTab('${tabId}')"]`).classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }
    </script>
</body>
</html>
